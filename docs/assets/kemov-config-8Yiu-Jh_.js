import{d as k,r as t,o as _,c as f,w as o,b as C,g as x,u as w,F as M,h as e,f as B,B as L,ak as V,al as U,j as E,k as T,i as j,l as S,a as b,aa as h,a5 as z,t as N}from"./kemov-runtime-dom.esm-bundler-BPh9kDu6.js";import{u as q}from"./kemov-main-2-pK6F85.js";const A=k({__name:"StreamerListItem",props:{pageId:null},setup(r){const c=L("streamerChannels");return(s,i)=>{const d=t("v-img"),l=t("v-avatar"),a=t("v-list-item"),n=t("v-progress-circular"),p=t("v-list");return _(),f(p,{nav:"",link:"","active-class":"bg-primary",density:"compact",class:"flex-grow-1 flex-shrink-1 overflow-auto",role:"menu"},{default:o(()=>{var u;return[(_(!0),C(M,null,x(w(c),m=>(_(),f(a,{key:m.id,title:m.name,subtitle:m.globalname,href:`/kemov/stats/detail/#/${m.id}`,active:r.pageId===`stats/detail/${m.id}`,role:"menuitem"},{prepend:o(()=>[e(l,{color:m.color.key,variant:"outlined",size:"small"},{default:o(()=>[e(d,{src:m.thumbnails.default.url,alt:m.fullname},null,8,["src","alt"])]),_:2},1032,["color"])]),_:2},1032,["title","subtitle","href","active"]))),128)),((u=w(c))==null?void 0:u.length)===0?(_(),f(a,{key:0,class:"pa-4 text-center"},{default:o(()=>[e(n,{color:"primary",indeterminate:""})]),_:1})):B("",!0)]}),_:1})}}}),D=k({__name:"NavigationDrawer",props:V({pageId:null},{opened:{type:Boolean},openedModifiers:{}}),emits:["update:opened"],setup(r){const c=U(r,"opened");return(s,i)=>{const d=t("v-icon"),l=t("v-list-item"),a=t("v-divider"),n=t("v-list"),p=t("v-navigation-drawer");return _(),f(p,{modelValue:c.value,"onUpdate:modelValue":i[0]||(i[0]=u=>c.value=u),floating:"","aria-label":"サイトページ一覧"},{default:o(()=>[e(n,{class:"pb-0 d-flex flex-column fill-height",role:"menu"},{default:o(()=>[e(l,{link:"",title:"リアルタイム統計",href:"/kemov/stats/",role:"menuitem",active:r.pageId==="stats"},{prepend:o(()=>[e(d,{icon:"mdi-finance",size:"large"})]),_:1},8,["active"]),e(A,{pageId:r.pageId},null,8,["pageId"]),e(a),e(n,{density:"compact",link:"",nav:"",class:"flex-grow-0 flex-shrink-0",role:"menu"},{default:o(()=>[e(l,{title:"ジェネット楽曲一覧",href:"/kemov/genet/music/",role:"menuitem",active:r.pageId==="genet/music"},{prepend:o(()=>[e(d,{icon:"mdi-music",size:"small"})]),_:1},8,["active"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),v="vuetify-color-scheme",F=k({__name:"ThemeToggleButton",setup(r){const c=q();function s(a){a==="unspecified"?(c.global.name.value="",document.querySelectorAll(".color-responsive").forEach(n=>{n.classList.remove(".color-responsive-dark",".color-responsive-light")})):(c.global.name.value=a,document.querySelectorAll(".color-responsive").forEach(n=>{a==="light"?(n.classList.add(".color-responsive-light"),n.classList.remove(".color-responsive-dark")):(n.classList.add(".color-responsive-dark"),n.classList.remove(".color-responsive-light"))}))}function i(){return window.matchMedia?window.matchMedia("(prefers-color-scheme: light)").matches?"light":window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"unspecified":"unspecified"}function d(){c.global.current.value.dark?(i()==="light"?localStorage.removeItem(v):localStorage.setItem(v,"light"),s("light")):(i()==="dark"?localStorage.removeItem(v):localStorage.setItem(v,"dark"),s("dark"))}function l(a){const n=localStorage.getItem(v);n===null?s(a.matches?"dark":"light"):(n==="dark"&&a.matches||n==="light"&&!a.matches)&&localStorage.removeItem(v)}return E(()=>{window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",l);const a=localStorage.getItem(v);a==="light"?s("light"):a==="dark"||i()==="dark"?s("dark"):s("light")}),T(()=>{window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",l)}),(a,n)=>{const p=t("v-btn"),u=t("v-tooltip");return _(),f(u,{text:"テーマを切り替え","aria-label":"テーマを切り替え"},{activator:o(({props:m})=>[e(p,j(m,{icon:w(c).global.current.value.dark?"mdi-weather-night":"mdi-white-balance-sunny",onClick:d,"aria-label":"テーマを切り替え"}),null,16,["icon"])]),_:1})}}}),J=k({__name:"AppBase",props:{pageId:null,toolbarTitle:null},setup(r,{expose:c}){const s=S(),i=S();return c({showErrorSnackbar:function(){i.value=!0},closeErrorSnackbar:function(){i.value=!1}}),(d,l)=>{const a=t("v-btn"),n=t("v-snackbar"),p=t("v-app-bar-nav-icon"),u=t("v-toolbar-title"),m=t("v-app-bar"),I=t("v-container"),y=t("v-main"),$=t("v-app");return _(),f($,null,{default:o(()=>[e(D,{opened:s.value,"onUpdate:opened":l[0]||(l[0]=g=>s.value=g),pageId:r.pageId},null,8,["opened","pageId"]),e(n,{modelValue:i.value,"onUpdate:modelValue":l[2]||(l[2]=g=>i.value=g),timeout:"10000"},{actions:o(()=>[e(a,{color:"red-lighten-2",variant:"text",onClick:l[1]||(l[1]=g=>i.value=!1)},{default:o(()=>[b("閉じる")]),_:1})]),default:o(()=>[h(d.$slots,"errorSnackbar",{},()=>[b("データの読み込みができませんでした。しばらくしてから再読み込みしてください。")])]),_:3},8,["modelValue"]),e(y,null,{default:o(()=>[e(m,{flat:"",floating:"",density:"compact"},{append:o(()=>[h(d.$slots,"toolbar"),e(F)]),default:o(()=>[e(p,{variant:"text",onClick:l[3]||(l[3]=z(g=>s.value=!s.value,["stop"])),"aria-label":"ナビゲーションを表示"}),e(u,null,{default:o(()=>[b(N(r.toolbarTitle),1)]),_:1})]),_:3}),h(d.$slots,"header"),e(I,{class:"bg-containerBackground"},{default:o(()=>[h(d.$slots,"default")]),_:3}),h(d.$slots,"footer")]),_:3})]),_:3})}}});function K(r){return r==null?"":r.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}const O="https://nanase.cc/asset/kemov/channels.json",Q="https://d1zvseiqyto6c5.cloudfront.net/kemov/stats.json",P="https://d1zvseiqyto6c5.cloudfront.net/kemov/stats/video/";function R(r){return`${P}${r}.json`}export{J as _,O as c,Q as s,R as v,K as w};
